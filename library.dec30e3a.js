function t(t,e,n,r){Object.defineProperty(t,e,{get:n,set:r,enumerable:!0,configurable:!0})}function e(t){return t&&t.__esModule?t.default:t}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},o={},i=n.parcelRequired7c6;null==i&&((i=function(t){if(t in r)return r[t].exports;if(t in o){var e=o[t];delete o[t];var n={id:t,exports:{}};return r[t]=n,e.call(n.exports,n,n.exports),n.exports}var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(t,e){o[t]=e},n.parcelRequired7c6=i),i.register("kyEFX",(function(e,n){var r,o;t(e.exports,"register",(function(){return r}),(function(t){return r=t})),t(e.exports,"resolve",(function(){return o}),(function(t){return o=t}));var i={};r=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)i[e[n]]=t[e[n]]},o=function(t){var e=i[t];if(null==e)throw new Error("Could not resolve bundle with id "+t);return e}})),i.register("6lPyI",(function(n,r){t(n.exports,"handleFilm",(function(){return g}));var o=i("9X8vO"),a=i("iuZ0p"),l=i("l6Rnt");const s=document.querySelector(".library-card-list"),c=document.querySelector(".btn");console.log(document.querySelector(".btn")),window.addEventListener("DOMContentLoaded",(()=>{f(JSON.parse(localStorage.getItem(l.STORAGE_KEY))||[])})),c?.addEventListener("click",(function(t){console.log("AAAAAAA"),f(library),u+=6,d+=6})),console.log(c);let d=0,u=0;function f(t){const e=t.length;console.log(e),lostEl=u+6,console.log(u),console.log(lostEl),console.log(e),console.log(e-d);const n=t.slice(u,lostEl);console.log(n),e-d<=6?p(n):(p(n),s.insertAdjacentHTML("afterend",' <div class="lib-btn-cont"><button class="btn btn-search-movie" type="button">Load more</button></div>'))}function g(t){const e=t.target.dataset.id;console.log(t.target),t.target.hasAttribute("data-add")?(console.log("data-add"),function(t,e){const{addAttr:n,removeAttr:r,btnText:o}=e;t.removeAttribute(r),t.setAttribute(n,""),t.textContent=o}(t.target,m),async function(t){const e=JSON.parse(localStorage.getItem(l.STORAGE_KEY))||[],n=e?.find((e=>e.id===Number(t)));if(n)return console.log("film is at list");const r=await async function(t){return(await o.default.getMoviById(t)).data}(t);e.push(r),localStorage.setItem(l.STORAGE_KEY,JSON.stringify(e))}(e)):t.target.hasAttribute("data-remove")&&(console.log("data-remove"),t.target.removeAttribute("data-remove"),t.target.setAttribute("data-add",""),t.target.textContent="Add to my library",function(t){const e=JSON.parse(localStorage.getItem(l.STORAGE_KEY)),n=e.find((e=>e.id===t));e.pop(n),localStorage.setItem(l.STORAGE_KEY,JSON.stringify(e)),"/library.html"===location.pathname&&p(e)}(e))}const m={addAttr:"data-remove",removeAttr:"data-add",btnText:"Remove from my library"};function p(t){if(0===t.length)s.innerHTML='<div class="library-info library-info-container">\n                              <p class="library-info-text">\n                                OOPS... <br> We are very sorry!<br>\n                                You donâ€™t have any movies at your library.\n                              </p>\n                              <button class="btn btn-search-movie" type="button">Search movie</button>\n                            </div>';else{const n=t.map((t=>`<li class="card-item item">\n              <img class="film-poster" src="${t.poster_path?`https://image.tmdb.org/t/p/w500${t.poster_path}`:`${e(a)}`}" alt="${t.original_title}" />\n              <div class="overlay">\n                <div class="film-info">\n                  <p class="film-title">${t.original_title||t.name}</p>\n                  <div class="film-details">\n                    <span class="film-description">${new Date(t.release_date).getFullYear()||new Date(t.first_air_date).getFullYear()} </span>\n                    <span class="film-rating">${Math.round(t.vote_average)}</span>\n                  </div>\n                </div>\n              </div>\n            </li>`)).join("");s.innerHTML=n}}})),i.register("9X8vO",(function(e,n){t(e.exports,"default",(function(){return o}));var r=i("2shzp");var o={getMoviById:async function(t){return r.default.get(`https://api.themoviedb.org/3/movie/${t}?api_key=b67c8518c930f00572f5eefdd7a9d563`).then((t=>t)).catch((t=>{console.log("EROR")}))}}})),i.register("iuZ0p",(function(t,e){t.exports=new URL(i("kyEFX").resolve("bfHyM"),import.meta.url).toString()})),i.register("l6Rnt",(function(e,n){t(e.exports,"API_KEY",(function(){return r})),t(e.exports,"API_BAERER",(function(){return o})),t(e.exports,"STORAGE_KEY",(function(){return i}));const r="eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI0MWI4Zjk0MzdiZjNmODk5MjgxZjhhM2Y5YmRjMDg5MSIsInN1YiI6IjY0NTY1YjAzOTAzYzUyMDEzODI3ZWIzZCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.qXNl8SarYs-VSAA55-e1i77zVpr6mbLTqlJUsXp4rpE",o="eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJmODU0Y2RkODdhYTkwNTNjYTAwMjI5ZmVhNzNlNTkyNSIsInN1YiI6IjYxODZmYWFkZmU2MzE4MDA2NDgzZTdkZSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.vm-UaTyMPJ2HhXiSRvz-VpPqqqKEF-3PBdhfYlg5v3g",i="library"})),i("kyEFX").register(JSON.parse('{"79VY6":"library.dec30e3a.js","bfHyM":"default.183d728c.jpg"}'));
//# sourceMappingURL=library.dec30e3a.js.map
