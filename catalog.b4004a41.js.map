{"mappings":"C,A,W,S,E,C,C,C,C,C,C,C,E,O,e,E,E,C,I,E,I,E,W,C,E,a,C,C,E,C,I,E,A,a,O,W,W,A,a,O,K,K,A,a,O,O,O,A,a,O,O,O,C,E,E,C,E,E,C,E,E,E,iB,O,I,A,C,E,S,C,E,G,K,E,O,C,C,E,C,Q,G,K,E,C,I,E,C,C,E,A,Q,C,C,E,C,I,E,C,G,E,Q,C,C,E,O,C,C,E,C,E,E,K,E,Q,E,E,S,E,O,C,I,E,A,M,uB,E,I,O,E,K,mB,C,C,E,S,S,C,C,C,E,C,C,E,C,C,E,E,kB,G,E,S,Q,S,C,C,C,ECAA,a,E,E,Q,W,W,O,C,E,S,C,E,O,E,C,G,E,E,Q,U,W,O,C,E,S,C,E,O,E,C,GAEA,IAcA,EACA,EAfI,EAAU,CAAC,EAcf,EAbA,SAAkB,CAAK,EAErB,IAAK,IADD,EAAO,OAAO,KAAK,GACd,EAAI,EAAG,EAAI,EAAK,OAAQ,IAC/B,CAAO,CAAC,CAAI,CAAC,EAAE,CAAC,CAAG,CAAK,CAAC,CAAI,CAAC,EAAE,CAAC,AAErC,EASA,EARA,SAAiB,CAAE,EACjB,IAAI,EAAW,CAAO,CAAC,EAAG,CAC1B,GAAI,AAAY,MAAZ,EACF,MAAM,AAAI,MAAM,oCAAsC,GAExD,OAAO,CACT,C,G,E,S,Q,S,C,C,C,E,E,E,Q,e,W,O,C,E,S,C,E,O,E,C,ECfA,CAAA,aAEA,IAkCA,EAlCI,EAAY,CAAC,EAkCjB,EAjCA,SAA4B,CAAE,EAC5B,IAAI,EAAQ,CAAS,CAAC,EAAG,CAKzB,OAJK,IACH,EAAQ,AAKZ,WACE,GAAI,CACF,MAAM,AAAI,OACZ,CAAE,MAAO,EAAK,CACZ,IAAI,EAAU,AAAC,CAAA,GAAK,EAAI,KAAA,EAAO,MAAM,oEACrC,GAAI,EAGF,MAMI,AAAA,CAAA,GANc,CAAO,CAAC,EAAE,AAMnB,EAAK,QAAQ,0EAA2E,MAAQ,GAJ7G,CACA,MAAO,GACT,IAhBI,CAAS,CAAC,EAAG,CAAG,GAEX,CACT,C,GCVA,AAAA,EAAA,SAAA,SAA8C,KAAK,MAAM,gP,E,S,E,SGAlD,IAAM,EAAO,CAClB,WAAY,SAAS,eAAe,mBACpC,YAAa,SAAS,eAAe,cACrC,YAAa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","sources":["<anon>","node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-7a826558534ff346.js","src/catalog.js","src/JS/catalog-page.js","src/JS/catalog/components/refs.js","src/JS/catalog/components/api_service.js","src/javascripts/create-error-markup.js","src/javascripts/create-movie-card.js","node_modules/@parcel/runtime-js/lib/runtime-b6bcaa00fd3c5278.js"],"sourcesContent":["(function () {\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\nfunction $parcel$interopDefault(a) {\n  return a && a.__esModule ? a.default : a;\n}\nvar $parcel$global =\ntypeof globalThis !== 'undefined'\n  ? globalThis\n  : typeof self !== 'undefined'\n  ? self\n  : typeof window !== 'undefined'\n  ? window\n  : typeof global !== 'undefined'\n  ? global\n  : {};\nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequired7c6\"];\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequired7c6\"] = parcelRequire;\n}\nparcelRequire.register(\"iE7OH\", function(module, exports) {\n\n$parcel$export(module.exports, \"register\", function () { return $0380ce8f1f064ccc$export$6503ec6e8aabbaf; }, function (v) { return $0380ce8f1f064ccc$export$6503ec6e8aabbaf = v; });\n$parcel$export(module.exports, \"resolve\", function () { return $0380ce8f1f064ccc$export$f7ad0328861e2f03; }, function (v) { return $0380ce8f1f064ccc$export$f7ad0328861e2f03 = v; });\nvar $0380ce8f1f064ccc$export$6503ec6e8aabbaf;\nvar $0380ce8f1f064ccc$export$f7ad0328861e2f03;\n\"use strict\";\nvar $0380ce8f1f064ccc$var$mapping = {};\nfunction $0380ce8f1f064ccc$var$register(pairs) {\n    var keys = Object.keys(pairs);\n    for(var i = 0; i < keys.length; i++)$0380ce8f1f064ccc$var$mapping[keys[i]] = pairs[keys[i]];\n}\nfunction $0380ce8f1f064ccc$var$resolve(id) {\n    var resolved = $0380ce8f1f064ccc$var$mapping[id];\n    if (resolved == null) throw new Error(\"Could not resolve bundle with id \" + id);\n    return resolved;\n}\n$0380ce8f1f064ccc$export$6503ec6e8aabbaf = $0380ce8f1f064ccc$var$register;\n$0380ce8f1f064ccc$export$f7ad0328861e2f03 = $0380ce8f1f064ccc$var$resolve;\n\n});\n\nparcelRequire.register(\"aNJCr\", function(module, exports) {\n\n$parcel$export(module.exports, \"getBundleURL\", function () { return $7dd1ddf6834435ca$export$bdfd709ae4826697; }, function (v) { return $7dd1ddf6834435ca$export$bdfd709ae4826697 = v; });\nvar $7dd1ddf6834435ca$export$bdfd709ae4826697;\nvar $7dd1ddf6834435ca$export$c9e73fbda7da57b6;\nvar $7dd1ddf6834435ca$export$5a759dc7a1cfb72a;\n\"use strict\";\nvar $7dd1ddf6834435ca$var$bundleURL = {};\nfunction $7dd1ddf6834435ca$var$getBundleURLCached(id) {\n    var value = $7dd1ddf6834435ca$var$bundleURL[id];\n    if (!value) {\n        value = $7dd1ddf6834435ca$var$getBundleURL();\n        $7dd1ddf6834435ca$var$bundleURL[id] = value;\n    }\n    return value;\n}\nfunction $7dd1ddf6834435ca$var$getBundleURL() {\n    try {\n        throw new Error();\n    } catch (err) {\n        var matches = (\"\" + err.stack).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/[^)\\n]+/g);\n        if (matches) // The first two stack frames will be this function and getBundleURLCached.\n        // Use the 3rd one, which will be a runtime in the original bundle.\n        return $7dd1ddf6834435ca$var$getBaseURL(matches[2]);\n    }\n    return \"/\";\n}\nfunction $7dd1ddf6834435ca$var$getBaseURL(url) {\n    return (\"\" + url).replace(/^((?:https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/.+)\\/[^/]+$/, \"$1\") + \"/\";\n}\n// TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\nfunction $7dd1ddf6834435ca$var$getOrigin(url) {\n    var matches = (\"\" + url).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/[^/]+/);\n    if (!matches) throw new Error(\"Origin not found\");\n    return matches[0];\n}\n$7dd1ddf6834435ca$export$bdfd709ae4826697 = $7dd1ddf6834435ca$var$getBundleURLCached;\n$7dd1ddf6834435ca$export$c9e73fbda7da57b6 = $7dd1ddf6834435ca$var$getBaseURL;\n$7dd1ddf6834435ca$export$5a759dc7a1cfb72a = $7dd1ddf6834435ca$var$getOrigin;\n\n});\n\nvar $99c36951471d5e55$exports = {};\n\n(parcelRequire(\"iE7OH\")).register(JSON.parse('{\"gin8l\":\"catalog.b4004a41.js\",\"iNwWb\":\"default.183d728c.jpg\",\"7GGOI\":\"library.ec5644ed.js\",\"7sOyx\":\"library.76f9fbfd.js\",\"6EZRk\":\"index.a6fa9e50.js\"}'));\n\nparcelRequire(\"kFnCB\");\nparcelRequire(\"60y4I\");\n// Импорты\nconst $4f46e7d62bf318ec$export$21666b427502ea6d = {\n    searchForm: document.getElementById(\"movieSearchForm\"),\n    searchInput: document.getElementById(\"movieInput\"),\n    catalogList: document.getElementById(\"movieList\"),\n    errorContainer: document.querySelector(\".error-container\"),\n    searchBtn: document.querySelector(\".search-button\"),\n    cancelBtn: document.querySelector(\".cancel-button\"),\n    paginationContainer: document.querySelector(\".pagination-wrapper\"),\n    paginationButton: document.querySelector(\".pagination-button\"),\n    nextPageBtn: document.querySelector(\".next-button\"),\n    prevPageBtn: document.querySelector(\".prev-button\")\n};\n\n\nclass $b2a941d7e2598d40$export$2e2bcd8739ae039 {\n    static BASE_URL = \"https://api.themoviedb.org/3\";\n    static API_KEY = \"41b8f9437bf3f899281f8a3f9bdc0891\";\n    constructor(){\n        this.searchQuery = \"\";\n        this.page = 1;\n        this.totalAmount = 0;\n    }\n    async getMovies() {\n        const options = {\n            method: \"GET\",\n            headers: {\n                accept: \"application/json\",\n                Authorization: `Bearer ${$b2a941d7e2598d40$export$2e2bcd8739ae039.API_KEY}`\n            }\n        };\n        let url = \"\";\n        if (this.searchQuery) url = `${$b2a941d7e2598d40$export$2e2bcd8739ae039.BASE_URL}/search/movie?api_key=${$b2a941d7e2598d40$export$2e2bcd8739ae039.API_KEY}&query=${this.searchQuery}&include_adult=false&language=en-US&page=${this.page}`;\n        else url = `${$b2a941d7e2598d40$export$2e2bcd8739ae039.BASE_URL}/trending/all/week?api_key=${$b2a941d7e2598d40$export$2e2bcd8739ae039.API_KEY}&language=en-US&page=${this.page}`;\n        try {\n            const response = await fetch(url, options);\n            const movies = await response.json();\n            return movies;\n        } catch (error) {\n            console.error(error);\n            throw error;\n        }\n    }\n    incrementPage() {\n        this.page += 1;\n    }\n    decrementPage() {\n        this.page -= 1;\n    }\n    resetPage() {\n        this.page = 1;\n    }\n    get query() {\n        return this.searchQuery;\n    }\n    set query(newQuery) {\n        this.searchQuery = newQuery;\n    }\n    get total() {\n        return this.totalAmount;\n    }\n    set total(newTotal) {\n        this.totalAmount = newTotal;\n    }\n    resetTotal() {\n        this.totalAmount = 0;\n    }\n}\n\n\n\nlet $5c068e8f8e908b00$var$errorMarkupCreated = false;\nconst $5c068e8f8e908b00$export$7e018aa348c28d8 = ()=>{\n    if ($5c068e8f8e908b00$var$errorMarkupCreated) return; // Если функция уже вызвана, выходим из неё\n    const errorMarkup = `<p class=\"error-information\">OOPS...</p>\n  <p class=\"error-information\">We are very sorry!</p>\n  <p class=\"error-information\">\n    We don’t have any results matching your search.\n  </p>`;\n    const newErrorContainer = document.createElement(\"div\");\n    newErrorContainer.innerHTML = errorMarkup;\n    (0, $4f46e7d62bf318ec$export$21666b427502ea6d).errorContainer.appendChild(newErrorContainer);\n    (0, $4f46e7d62bf318ec$export$21666b427502ea6d).errorContainer.classList.remove(\"is-hidden\");\n    (0, $4f46e7d62bf318ec$export$21666b427502ea6d).paginationContainer.classList.add(\"is-hidden\");\n    $5c068e8f8e908b00$var$errorMarkupCreated = true;\n};\n\n\n\nvar $7752ee8894a13912$exports = {};\n\n\n$7752ee8894a13912$exports = (parcelRequire(\"aNJCr\")).getBundleURL(\"gin8l\") + (parcelRequire(\"iE7OH\")).resolve(\"iNwWb\");\n\n\n\nvar $2j4vU = parcelRequire(\"2j4vU\");\n\nvar $3bDz3 = parcelRequire(\"3bDz3\");\n\nvar $hmtur = parcelRequire(\"hmtur\");\nasync function $8dfe9438558ff6ac$export$9d27b867a89df126(data) {\n    const genresData = JSON.parse(localStorage.getItem(\"genres\"));\n    const markupPromises = data.results.map(async (movie)=>{\n        const imageSrc = movie.poster_path ? `https://image.tmdb.org/t/p/w500${movie.poster_path}` : `${0, (/*@__PURE__*/$parcel$interopDefault($7752ee8894a13912$exports))}`;\n        const genresPromise = (0, $3bDz3.validateGenres)(movie.genre_ids, genresData);\n        const genres = await genresPromise;\n        return `<li class=\"card-item\" data-id=\"${movie.id}\">\n        <img class=\"film-poster\" src=\"${imageSrc}\" alt=\"${movie.original_title || movie.name}\" />\n        <div class=\"overlay\">\n          <div class=\"film-info\">\n            <p class=\"film-title\">${movie.original_title || movie.name}</p>\n            <div class=\"film-details\">\n              <span class=\"film-description\">${genres} | ${new Date(movie.release_date).getFullYear() || new Date(movie.first_air_date).getFullYear()}</span>\n    <div class=\"stars-container\">${(0, $2j4vU.default)({\n            voteAverage: movie.vote_average,\n            isHero: false\n        })}</div>            \n      <!-- <span class=\"film-rating\">${movie.vote_average.toFixed(1)}</span> -->\n            </div>\n          </div>\n        </div>\n      </li>`;\n    });\n    const markup = await Promise.all(markupPromises);\n    (0, $4f46e7d62bf318ec$export$21666b427502ea6d).catalogList.innerHTML = markup.join(\"\");\n    const filmList = document.querySelector(\".listListener\");\n    filmList.addEventListener(\"click\", (event)=>{\n        const li = event.target.closest(\".card-item\");\n        const movieId = li.getAttribute(\"data-id\");\n        (0, $hmtur.openModalAboutFilm)(movieId);\n    });\n}\n\n\n// Змінні\nconst $bb7034ce721467d9$var$apiService = new (0, $b2a941d7e2598d40$export$2e2bcd8739ae039)();\nlet $bb7034ce721467d9$var$currentPage = 1;\n// Слушатели событий\n(0, $4f46e7d62bf318ec$export$21666b427502ea6d).searchForm.addEventListener(\"submit\", $bb7034ce721467d9$var$getInputValue);\n(0, $4f46e7d62bf318ec$export$21666b427502ea6d).cancelBtn.addEventListener(\"click\", $bb7034ce721467d9$var$clearInputValue);\n(0, $4f46e7d62bf318ec$export$21666b427502ea6d).searchInput.addEventListener(\"input\", $bb7034ce721467d9$var$onInput);\n(0, $4f46e7d62bf318ec$export$21666b427502ea6d).nextPageBtn.addEventListener(\"click\", $bb7034ce721467d9$var$onNextPage);\n(0, $4f46e7d62bf318ec$export$21666b427502ea6d).prevPageBtn.addEventListener(\"click\", $bb7034ce721467d9$var$onPrevPage);\n// Приховання елементів\n(0, $4f46e7d62bf318ec$export$21666b427502ea6d).errorContainer.classList.add(\"is-hidden\");\n(0, $4f46e7d62bf318ec$export$21666b427502ea6d).cancelBtn.classList.add(\"is-hidden\");\n// Запит трендів тижня\n$bb7034ce721467d9$var$renderWeeklyTrends($bb7034ce721467d9$var$currentPage);\n// Функции\nfunction $bb7034ce721467d9$var$renderWeeklyTrends(page) {\n    $bb7034ce721467d9$var$apiService.getMovies(page).then($bb7034ce721467d9$var$handleMoviesData).catch($bb7034ce721467d9$var$handleError);\n}\nfunction $bb7034ce721467d9$var$handleMoviesData(data) {\n    (0, $8dfe9438558ff6ac$export$9d27b867a89df126)(data);\n    (0, $4f46e7d62bf318ec$export$21666b427502ea6d).paginationButton.textContent = $bb7034ce721467d9$var$currentPage;\n    $bb7034ce721467d9$var$updateNextButtonState(data.total_pages);\n}\nfunction $bb7034ce721467d9$var$handleError(error) {\n    (0, $4f46e7d62bf318ec$export$21666b427502ea6d).catalogList.innerHTML = \"\";\n    (0, $5c068e8f8e908b00$export$7e018aa348c28d8)();\n    console.error(\"An error occurred:\", error);\n}\nfunction $bb7034ce721467d9$var$getInputValue(e) {\n    e.preventDefault();\n    (0, $4f46e7d62bf318ec$export$21666b427502ea6d).paginationContainer.classList.remove(\"is-hidden\");\n    (0, $4f46e7d62bf318ec$export$21666b427502ea6d).errorContainer.classList.add(\"is-hidden\");\n    const query = (0, $4f46e7d62bf318ec$export$21666b427502ea6d).searchInput.value.trim();\n    $bb7034ce721467d9$var$apiService.query = query;\n    $bb7034ce721467d9$var$apiService.resetPage();\n    $bb7034ce721467d9$var$apiService.resetTotal();\n    if (query === \"\") $bb7034ce721467d9$var$handleEmptyQuery();\n    else $bb7034ce721467d9$var$searchMovies();\n}\nfunction $bb7034ce721467d9$var$handleEmptyQuery() {\n    (0, $4f46e7d62bf318ec$export$21666b427502ea6d).catalogList.innerHTML = \"\";\n    (0, $5c068e8f8e908b00$export$7e018aa348c28d8)();\n}\nasync function $bb7034ce721467d9$var$searchMovies() {\n    try {\n        const data = await $bb7034ce721467d9$var$apiService.getMovies();\n        if (data.total_results === 0) $bb7034ce721467d9$var$handleEmptyResults();\n        else {\n            $bb7034ce721467d9$var$apiService.total = data.total_results;\n            (0, $8dfe9438558ff6ac$export$9d27b867a89df126)(data);\n            $bb7034ce721467d9$var$currentPage = data.page;\n            (0, $4f46e7d62bf318ec$export$21666b427502ea6d).paginationButton.textContent = $bb7034ce721467d9$var$currentPage;\n        }\n        (0, $4f46e7d62bf318ec$export$21666b427502ea6d).searchInput.value = \"\";\n    } catch (error) {\n        $bb7034ce721467d9$var$handleError(error);\n    }\n}\nfunction $bb7034ce721467d9$var$handleEmptyResults() {\n    (0, $4f46e7d62bf318ec$export$21666b427502ea6d).catalogList.innerHTML = \"\";\n    (0, $5c068e8f8e908b00$export$7e018aa348c28d8)();\n}\nfunction $bb7034ce721467d9$var$onInput(e) {\n    if (e.currentTarget.value.trim()) (0, $4f46e7d62bf318ec$export$21666b427502ea6d).cancelBtn.classList.remove(\"is-hidden\");\n    else (0, $4f46e7d62bf318ec$export$21666b427502ea6d).cancelBtn.classList.add(\"is-hidden\");\n}\nfunction $bb7034ce721467d9$var$clearInputValue() {\n    (0, $4f46e7d62bf318ec$export$21666b427502ea6d).cancelBtn.classList.add(\"is-hidden\");\n    (0, $4f46e7d62bf318ec$export$21666b427502ea6d).searchInput.value = \"\";\n}\nfunction $bb7034ce721467d9$var$updateNextButtonState(totalPages) {\n    if ($bb7034ce721467d9$var$currentPage === totalPages) (0, $4f46e7d62bf318ec$export$21666b427502ea6d).nextPageBtn.setAttribute(\"disabled\", \"disabled\");\n    else (0, $4f46e7d62bf318ec$export$21666b427502ea6d).nextPageBtn.removeAttribute(\"disabled\");\n}\nfunction $bb7034ce721467d9$var$onNextPage() {\n    $bb7034ce721467d9$var$currentPage += 1;\n    $bb7034ce721467d9$var$apiService.incrementPage();\n    $bb7034ce721467d9$var$renderWeeklyTrends($bb7034ce721467d9$var$currentPage);\n}\nfunction $bb7034ce721467d9$var$onPrevPage() {\n    if ($bb7034ce721467d9$var$currentPage > 1) {\n        $bb7034ce721467d9$var$currentPage -= 1;\n        $bb7034ce721467d9$var$apiService.decrementPage();\n        $bb7034ce721467d9$var$renderWeeklyTrends($bb7034ce721467d9$var$currentPage);\n    }\n}\n\n\nparcelRequire(\"gSZkB\");\nparcelRequire(\"jyRK9\");\n\n})();\n//# sourceMappingURL=catalog.b4004a41.js.map\n","\"use strict\";\n\nvar mapping = {};\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\nfunction resolve(id) {\n  var resolved = mapping[id];\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n  return resolved;\n}\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","\"use strict\";\n\nvar bundleURL = {};\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n  return value;\n}\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n  return '/';\n}\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\n// TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/[^/]+/);\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n  return matches[0];\n}\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"gin8l\\\":\\\"catalog.b4004a41.js\\\",\\\"iNwWb\\\":\\\"default.183d728c.jpg\\\",\\\"7GGOI\\\":\\\"library.ec5644ed.js\\\",\\\"7sOyx\\\":\\\"library.76f9fbfd.js\\\",\\\"6EZRk\\\":\\\"index.a6fa9e50.js\\\"}\"));","import './JS/header.js';\nimport './JS/hero.js';\nimport './JS/catalog-page.js';\nimport './JS/modal-trailer.js';\n\nimport './JS/global-listener.js';\n\n","// Импорты\nimport { refs } from './catalog/components/refs';\nimport ApiService from './catalog/components/api_service';\nimport { createErrorMarkup } from '../javascripts/create-error-markup';\nimport { createMovieCard } from '../javascripts/create-movie-card';\n\n// Змінні\nconst apiService = new ApiService();\nlet currentPage = 1;\n\n// Слушатели событий\n\nrefs.searchForm.addEventListener('submit', getInputValue);\nrefs.cancelBtn.addEventListener('click', clearInputValue);\nrefs.searchInput.addEventListener('input', onInput);\nrefs.nextPageBtn.addEventListener('click', onNextPage);\nrefs.prevPageBtn.addEventListener('click', onPrevPage);\n\n// Приховання елементів\n\nrefs.errorContainer.classList.add('is-hidden');\nrefs.cancelBtn.classList.add('is-hidden');\n\n// Запит трендів тижня\n\nrenderWeeklyTrends(currentPage);\n\n// Функции\n\nfunction renderWeeklyTrends(page) {\n  apiService.getMovies(page).then(handleMoviesData).catch(handleError);\n}\n\nfunction handleMoviesData(data) {\n  createMovieCard(data);\n  refs.paginationButton.textContent = currentPage;\n  updateNextButtonState(data.total_pages);\n}\n\nfunction handleError(error) {\n  refs.catalogList.innerHTML = '';\n  createErrorMarkup();\n  console.error('An error occurred:', error);\n}\n\nfunction getInputValue(e) {\n  e.preventDefault();\n\n  refs.paginationContainer.classList.remove('is-hidden');\n  refs.errorContainer.classList.add('is-hidden');\n\n  const query = refs.searchInput.value.trim();\n  apiService.query = query;\n  apiService.resetPage();\n  apiService.resetTotal();\n\n  if (query === '') {\n    handleEmptyQuery();\n  } else {\n    searchMovies();\n  }\n}\n\nfunction handleEmptyQuery() {\n  refs.catalogList.innerHTML = '';\n  createErrorMarkup();\n}\n\nasync function searchMovies() {\n  try {\n    const data = await apiService.getMovies();\n    if (data.total_results === 0) {\n      handleEmptyResults();\n    } else {\n      apiService.total = data.total_results;\n      createMovieCard(data);\n      currentPage = data.page;\n      refs.paginationButton.textContent = currentPage;\n    }\n    refs.searchInput.value = '';\n  } catch (error) {\n    handleError(error);\n  }\n}\n\nfunction handleEmptyResults() {\n  refs.catalogList.innerHTML = '';\n  createErrorMarkup();\n}\n\nfunction onInput(e) {\n  if (e.currentTarget.value.trim()) {\n    refs.cancelBtn.classList.remove('is-hidden');\n  } else {\n    refs.cancelBtn.classList.add('is-hidden');\n  }\n}\n\nfunction clearInputValue() {\n  refs.cancelBtn.classList.add('is-hidden');\n  refs.searchInput.value = '';\n}\n\nfunction updateNextButtonState(totalPages) {\n  if (currentPage === totalPages) {\n    refs.nextPageBtn.setAttribute('disabled', 'disabled');\n  } else {\n    refs.nextPageBtn.removeAttribute('disabled');\n  }\n}\n\nfunction onNextPage() {\n  currentPage += 1;\n  apiService.incrementPage();\n  renderWeeklyTrends(currentPage);\n}\n\nfunction onPrevPage() {\n  if (currentPage > 1) {\n    currentPage -= 1;\n    apiService.decrementPage();\n    renderWeeklyTrends(currentPage);\n  }\n}\n","export const refs = {\n  searchForm: document.getElementById('movieSearchForm'),\n  searchInput: document.getElementById('movieInput'),\n  catalogList: document.getElementById('movieList'),\n  errorContainer: document.querySelector('.error-container'),\n  searchBtn: document.querySelector('.search-button'),\n  cancelBtn: document.querySelector('.cancel-button'),\n  paginationContainer: document.querySelector('.pagination-wrapper'),\n  paginationButton: document.querySelector('.pagination-button'),\n  nextPageBtn: document.querySelector('.next-button'),\n  prevPageBtn: document.querySelector('.prev-button'),\n};\n","export default class ApiService {\n  static BASE_URL = 'https://api.themoviedb.org/3';\n  static API_KEY = '41b8f9437bf3f899281f8a3f9bdc0891';\n\n  constructor() {\n    this.searchQuery = '';\n    this.page = 1;\n    this.totalAmount = 0;\n  }\n\n  async getMovies() {\n    const options = {\n      method: 'GET',\n      headers: {\n        accept: 'application/json',\n        Authorization: `Bearer ${ApiService.API_KEY}`,\n      },\n    };\n\n    let url = '';\n    if (this.searchQuery) {\n      url = `${ApiService.BASE_URL}/search/movie?api_key=${ApiService.API_KEY}&query=${this.searchQuery}&include_adult=false&language=en-US&page=${this.page}`;\n    } else {\n      url = `${ApiService.BASE_URL}/trending/all/week?api_key=${ApiService.API_KEY}&language=en-US&page=${this.page}`;\n    }\n\n    try {\n      const response = await fetch(url, options);\n      const movies = await response.json();\n      return movies;\n    } catch (error) {\n      console.error(error);\n      throw error;\n    }\n  }\n\n  incrementPage() {\n    this.page += 1;\n  }\n\n  decrementPage() {\n    this.page -= 1;\n  }\n\n  resetPage() {\n    this.page = 1;\n  }\n\n  get query() {\n    return this.searchQuery;\n  }\n\n  set query(newQuery) {\n    this.searchQuery = newQuery;\n  }\n\n  get total() {\n    return this.totalAmount;\n  }\n\n  set total(newTotal) {\n    this.totalAmount = newTotal;\n  }\n\n  resetTotal() {\n    this.totalAmount = 0;\n  }\n}\n","import { refs } from '../JS/catalog/components/refs';\n\nlet errorMarkupCreated = false;\n\nexport const createErrorMarkup = () => {\n  if (errorMarkupCreated) {\n    return; // Если функция уже вызвана, выходим из неё\n  }\n\n  const errorMarkup = `<p class=\"error-information\">OOPS...</p>\n  <p class=\"error-information\">We are very sorry!</p>\n  <p class=\"error-information\">\n    We don’t have any results matching your search.\n  </p>`;\n\n  const newErrorContainer = document.createElement('div');\n  newErrorContainer.innerHTML = errorMarkup;\n\n  refs.errorContainer.appendChild(newErrorContainer);\n  refs.errorContainer.classList.remove('is-hidden');\n  refs.paginationContainer.classList.add('is-hidden');\n\n  errorMarkupCreated = true;\n};\n","import { refs } from '../JS/catalog/components/refs';\nimport defaultImg from '../images/default.jpg';\nimport starsRating from '../JS/stars-rating';\nimport { validateGenres } from '../JS/weekly-trends-genres';\nimport { openModalAboutFilm } from '../JS/movieModal';\n\nexport async function createMovieCard(data) {\n  const genresData = JSON.parse(localStorage.getItem('genres'));\n\n  const markupPromises = data.results.map(async movie => {\n    const imageSrc = movie.poster_path\n      ? `https://image.tmdb.org/t/p/w500${movie.poster_path}`\n      : `${defaultImg}`;\n    const genresPromise = validateGenres(movie.genre_ids, genresData);\n    const genres = await genresPromise;\n    return `<li class=\"card-item\" data-id=\"${movie.id}\">\n        <img class=\"film-poster\" src=\"${imageSrc}\" alt=\"${\n      movie.original_title || movie.name\n    }\" />\n        <div class=\"overlay\">\n          <div class=\"film-info\">\n            <p class=\"film-title\">${movie.original_title || movie.name}</p>\n            <div class=\"film-details\">\n              <span class=\"film-description\">${genres} | ${\n      new Date(movie.release_date).getFullYear() ||\n      new Date(movie.first_air_date).getFullYear()\n    }</span>\n    <div class=\"stars-container\">${starsRating({\n      voteAverage: movie.vote_average,\n      isHero: false,\n    })}</div>            \n      <!-- <span class=\"film-rating\">${movie.vote_average.toFixed(1)}</span> -->\n            </div>\n          </div>\n        </div>\n      </li>`;\n  });\n\n  const markup = await Promise.all(markupPromises);\n\n  refs.catalogList.innerHTML = markup.join('');\n\n  const filmList = document.querySelector('.listListener');\n\n  filmList.addEventListener('click', event => {\n    const li = event.target.closest('.card-item');\n    const movieId = li.getAttribute('data-id');\n    openModalAboutFilm(movieId);\n  });\n}\n","module.exports = require('./helpers/bundle-url').getBundleURL('gin8l') + require('./helpers/bundle-manifest').resolve(\"iNwWb\");"],"names":["$parcel$export","e","n","v","s","Object","defineProperty","get","set","enumerable","configurable","$parcel$global","globalThis","self","window","global","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","$0380ce8f1f064ccc$export$6503ec6e8aabbaf","$0380ce8f1f064ccc$export$f7ad0328861e2f03","$0380ce8f1f064ccc$var$mapping","pairs","keys","i","length","resolved","$7dd1ddf6834435ca$export$bdfd709ae4826697","$7dd1ddf6834435ca$var$bundleURL","value","$7dd1ddf6834435ca$var$getBundleURL","matches","stack","match","replace","JSON","parse","$4f46e7d62bf318ec$export$21666b427502ea6d","searchForm","document","getElementById","searchInput","catalogList","errorContainer","querySelector","searchBtn","cancelBtn","paginationContainer","paginationButton","nextPageBtn","prevPageBtn","$b2a941d7e2598d40$export$2e2bcd8739ae039","BASE_URL","API_KEY","constructor","searchQuery","page","totalAmount","getMovies","options","method","headers","accept","Authorization","url","response","fetch","movies","json","error","console","incrementPage","decrementPage","resetPage","query","newQuery","total","newTotal","resetTotal","$5c068e8f8e908b00$var$errorMarkupCreated","$5c068e8f8e908b00$export$7e018aa348c28d8","errorMarkup","newErrorContainer","createElement","innerHTML","appendChild","classList","remove","add","$7752ee8894a13912$exports","getBundleURL","resolve","$2j4vU","$3bDz3","$hmtur","$8dfe9438558ff6ac$export$9d27b867a89df126","data","genresData","localStorage","getItem","markupPromises","results","map","movie","a","imageSrc","poster_path","__esModule","default","genresPromise","validateGenres","genre_ids","genres","original_title","name","Date","release_date","getFullYear","first_air_date","voteAverage","vote_average","isHero","toFixed","markup","Promise","all","join","filmList","addEventListener","event","li","target","closest","movieId","getAttribute","openModalAboutFilm","$bb7034ce721467d9$var$apiService","$bb7034ce721467d9$var$currentPage","$bb7034ce721467d9$var$renderWeeklyTrends","then","$bb7034ce721467d9$var$handleMoviesData","catch","$bb7034ce721467d9$var$handleError","textContent","total_pages","setAttribute","removeAttribute","$bb7034ce721467d9$var$searchMovies","total_results","preventDefault","trim","currentTarget"],"version":3,"file":"catalog.b4004a41.js.map"}